{"ast":null,"code":"import _classCallCheck from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/src/components/Admin/index.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert2';\nimport { Button, Col, ControlLabel, FormGroup, FormControl, Table, Modal, Well } from 'react-bootstrap';\n\nvar Admin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Admin, _Component);\n\n  function Admin(props) {\n    var _this;\n\n    _classCallCheck(this, Admin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Admin).call(this, props));\n    _this.state = {\n      users: [],\n      currentUser: []\n    };\n    return _this;\n  }\n\n  _createClass(Admin, [{\n    key: \"follow\",\n    value: function follow(user) {\n      //console.log('this.state', this.state);\n      fetch(\"http://127.0.0.1:8000/user/follow/\" + user, {\n        method: \"PUT\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': localStorage.getItem('token')\n        }\n      }).then(function (res) {\n        return res;\n      }).then(function (data) {\n        console.log(data.text);\n        console.log(\"user successfully followed\");\n        swal('Success!', 'Followed!', 'success');\n      });\n    }\n  }, {\n    key: \"unfollow\",\n    value: function unfollow(user) {\n      //console.log('this.state', this.state);\n      fetch(\"http://127.0.0.1:8000/user/unfollow/\" + user, {\n        method: \"PUT\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': localStorage.getItem('token')\n        }\n      }).then(function (res) {\n        return res;\n      }).then(function (data) {\n        console.log(data.text);\n        console.log(\"user successfully unfollowed\");\n        swal('Success!', 'Unfollowed!', 'success');\n      });\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      fetch(\"http://127.0.0.1:8000/user/delete\", {\n        method: \"PUT\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': localStorage.getItem('token')\n        }\n      }).then(function (res) {\n        return res;\n      }).then(function (data) {\n        console.log(data.text);\n        console.log(\"user successfully deleted\");\n        swal('Success!', 'Deleted!', 'success');\n        window.location = \"/signin\";\n      });\n    }\n  }, {\n    key: \"getUsers\",\n    value: function getUsers() {\n      var _this2 = this;\n\n      axios.get('http://127.0.0.1:8000/user/users', {\n        'headers': {\n          'Authorization': localStorage.getItem(\"token\")\n        }\n      }).then(function (res) {\n        //console.log(res);\n        //return res.data;\n        _this2.setState({\n          users: res.data\n        });\n      });\n      return \"done\";\n    }\n  }, {\n    key: \"getCurrent\",\n    value: function getCurrent() {\n      var _this3 = this;\n\n      axios.get('http://127.0.0.1:8000/user/me', {\n        'headers': {\n          'Authorization': localStorage.getItem(\"token\")\n        }\n      }).then(function (res) {\n        //console.log(res);\n        //return res.data;\n        _this3.setState({\n          currentUser: res.data\n        });\n      });\n      return \"done\";\n    }\n  }, {\n    key: \"edit\",\n    value: function edit() {\n      //console.log('this.state', this.state);\n      var data = {\n        \"username\": this.state.username,\n        \"email\": this.state.email\n      };\n\n      if (data.editedcontent !== '') {\n        fetch(\"http://127.0.0.1:8000/user/edit\", {\n          method: \"PUT\",\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': localStorage.getItem('token')\n          },\n          body: JSON.stringify(data)\n        }).then(function (res) {\n          return res;\n        }).then(function (data) {\n          console.log(data);\n          console.log(\"User successfully edited\");\n          swal('Success!', 'User successfully edited', 'success').then(function () {\n            window.location = \"/admin\";\n          });\n        });\n      } else {\n        console.log(\"content field empty\");\n        swal('Oops!', 'Seems like the content of your post is empty!', 'error');\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUsers();\n      this.getCurrent();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var users = this.state.users;\n      var current = this.state.currentUser;\n      console.log(\"state\", this.state);\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"My profile\"), current.map(function (user) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, React.createElement(Well, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, user.username, \" \"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }), user.email, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }), \"Tweets: \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }), \"Followers:\", React.createElement(\"button\", {\n          className: \"btn pull-right btn-danger\",\n          type: \"button\",\n          onClick: function onClick() {\n            return _this4.delete();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, \"Delete\"), React.createElement(\"button\", {\n          className: \"btn btn-primary pull-right\",\n          type: \"button\",\n          onClick: function onClick() {\n            return _this4.edit(user.username);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        }, \"Edit\")));\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"All Users\"), users.map(function (user) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, React.createElement(Well, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, user.username, \" \"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }), user.email, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }), \"Tweets: \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }), \"Followers:\", React.createElement(\"button\", {\n          className: \"btn pull-right\",\n          type: \"button\",\n          onClick: function onClick() {\n            return _this4.unfollow(user.username);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, \"Unfollow\"), React.createElement(\"button\", {\n          className: \"btn btn-primary pull-right\",\n          type: \"button\",\n          onClick: function onClick() {\n            return _this4.follow(user.username);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, \"Follow\")));\n      }));\n    }\n  }]);\n\n  return Admin;\n}(Component);\n\nexport default Admin;","map":{"version":3,"sources":["/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/src/components/Admin/index.js"],"names":["React","Component","axios","swal","Button","Col","ControlLabel","FormGroup","FormControl","Table","Modal","Well","Admin","props","state","users","currentUser","user","fetch","method","headers","localStorage","getItem","then","res","data","console","log","text","window","location","get","setState","username","email","editedcontent","body","JSON","stringify","getUsers","getCurrent","current","map","delete","edit","unfollow","follow"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert2';\nimport { Button, Col, ControlLabel,FormGroup, FormControl, Table, Modal, Well } from 'react-bootstrap';\n\n\nclass Admin extends Component{\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusers: [],\n\t\t\tcurrentUser: [],\n\t\t};\n\t}\n\n\tfollow(user) {\n\t\t//console.log('this.state', this.state);\n\t\t\tfetch(\"http://127.0.0.1:8000/user/follow/\"+user, {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': localStorage.getItem('token')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(function(res){\n\t\t\t\treturn res;\n\t\t\t})\n\t\t\t.then(function(data){\n\t\t\t\tconsole.log(data.text);\n\t\t\t\tconsole.log(\"user successfully followed\");\n\t\t\t\tswal('Success!', 'Followed!', 'success');\n\t\t\t});\n\t}\n\n\tunfollow(user) {\n\t\t//console.log('this.state', this.state);\n\t\t\tfetch(\"http://127.0.0.1:8000/user/unfollow/\"+user, {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': localStorage.getItem('token')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(function(res){\n\t\t\t\treturn res;\n\t\t\t})\n\t\t\t.then(function(data){\n\t\t\t\tconsole.log(data.text);\n\t\t\t\tconsole.log(\"user successfully unfollowed\");\n\t\t\t\tswal('Success!', 'Unfollowed!', 'success');\n\t\t\t});\n\t}\n\n\tdelete() {\n\t\t\tfetch(\"http://127.0.0.1:8000/user/delete\", {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': localStorage.getItem('token')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(function(res){\n\t\t\t\treturn res;\n\t\t\t})\n\t\t\t.then(function(data){\n\t\t\t\tconsole.log(data.text);\n\t\t\t\tconsole.log(\"user successfully deleted\");\n\t\t\t\tswal('Success!', 'Deleted!', 'success');\n\t\t\t\twindow.location = \"/signin\";\n\t\t\t});\n\t}\n\n\tgetUsers() {\n\t\taxios.get('http://127.0.0.1:8000/user/users', { 'headers': { 'Authorization': localStorage.getItem(\"token\")}})\n\t\t.then(res => {\n\t\t\t//console.log(res);\n\t\t\t//return res.data;\n\t\t\tthis.setState({users:res.data});\n\t\t});\n\t\treturn \"done\";\n\t}\n\n\tgetCurrent() {\n\t\taxios.get('http://127.0.0.1:8000/user/me', { 'headers': { 'Authorization': localStorage.getItem(\"token\")}})\n\t\t.then(res => {\n\t\t\t//console.log(res);\n\t\t\t//return res.data;\n\t\t\tthis.setState({currentUser:res.data});\n\t\t});\n\t\treturn \"done\";\n\t}\n\n\tedit() {\n\t\t\t//console.log('this.state', this.state);\n\t\tvar data = {\n\t\t\t\"username\": this.state.username,\n\t\t\t\"email\": this.state.email,\n\t\t}\n\t\tif (data.editedcontent !== '' ) {\n\t\t\tfetch(\"http://127.0.0.1:8000/user/edit\", {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': localStorage.getItem('token'),\n\t\t\t\t},\n\t\t\t\tbody:  JSON.stringify(data)\n\t\t\t})\n\t\t\t.then(function(res){\n\t\t\t\treturn res;\n\t\t\t})\n\t\t\t.then(function(data){\n\t\t\t\tconsole.log(data);\n\t\t\t\tconsole.log(\"User successfully edited\");\n\t\t\t\tswal('Success!', 'User successfully edited', 'success').then(function(){\n\t\t\t\t\twindow.location = \"/admin\";\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.log(\"content field empty\");\n\t\t\tswal('Oops!', 'Seems like the content of your post is empty!', 'error');\n\t\t}\n\t}\n\n\n\tcomponentDidMount() {\n\t\tthis.getUsers();\n\t\tthis.getCurrent();\n\t}\n\n\n\n\trender(){\n\t\tvar users = this.state.users;\n\t\tvar current = this.state.currentUser;\n\t\tconsole.log(\"state\", this.state);\n\t\treturn (\n\t\t\t<div className = \"container\">\n\t\t\t<h2>My profile</h2>\n\t\t\t{\n\t\t\t\tcurrent.map((user) => {\n\t\t\t\t\treturn(\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Well>\n\t\t\t\t\t\t\t\t<b>{user.username} </b><br/>\n\t\t\t\t\t\t\t\t{user.email}<br/>\n\t\t\t\t\t\t\t\tTweets: <br/>\n\t\t\t\t\t\t\t\tFollowers:\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='btn pull-right btn-danger'\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tonClick={() => this.delete()}>\n\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='btn btn-primary pull-right'\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tonClick={() => this.edit(user.username)}>\n\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Well>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t<h2>All Users</h2>\n\t\t\t{\n\t\t\t\tusers.map((user) => {\n\t\t\t\t\treturn(\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Well>\n\t\t\t\t\t\t\t\t<b>{user.username} </b><br/>\n\t\t\t\t\t\t\t\t{user.email}<br/>\n\t\t\t\t\t\t\t\tTweets: <br/>\n\t\t\t\t\t\t\t\tFollowers:\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='btn pull-right'\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tonClick={() => this.unfollow(user.username)}>\n\t\t\t\t\t\t\t\tUnfollow\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='btn btn-primary pull-right'\n\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\tonClick={() => this.follow(user.username)}>\n\t\t\t\t\t\t\t\tFollow\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</Well>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t</div>\n\t\t\t)\n\t}\n\n}\n\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}