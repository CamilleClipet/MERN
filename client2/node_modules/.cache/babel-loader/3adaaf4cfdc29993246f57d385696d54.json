{"ast":null,"code":"import _classCallCheck from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/src/components/Admin/index.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert2';\nimport { Button, Col, ControlLabel, FormGroup, FormControl, Table, Modal, Well } from 'react-bootstrap';\n\nvar Admin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Admin, _Component);\n\n  function Admin(props) {\n    var _this;\n\n    _classCallCheck(this, Admin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Admin).call(this, props));\n    _this.state = {\n      users: []\n    };\n    return _this;\n  }\n\n  _createClass(Admin, [{\n    key: \"follow\",\n    value: function follow(user) {\n      //console.log('this.state', this.state);\n      fetch(\"http://127.0.0.1:8000/user/follow/\" + user, {\n        method: \"PUT\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': localStorage.getItem('token')\n        }\n      }).then(function (res) {\n        return res;\n      }).then(function (data) {\n        console.log(data.text);\n        console.log(\"user successfully followed\");\n        swal('Success!', 'Followed!', 'success');\n      });\n    }\n  }, {\n    key: \"unfollow\",\n    value: function unfollow(user) {\n      //console.log('this.state', this.state);\n      fetch(\"http://127.0.0.1:8000/user/unfollow/\" + user, {\n        method: \"PUT\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': localStorage.getItem('token')\n        }\n      }).then(function (res) {\n        return res;\n      }).then(function (data) {\n        console.log(data.text);\n        console.log(\"user successfully unfollowed\");\n        swal('Success!', 'Unfollowed!', 'success');\n      });\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      fetch(\"http://127.0.0.1:8000/user/delete\", {\n        method: \"PUT\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': localStorage.getItem('token')\n        }\n      }).then(function (res) {\n        return res;\n      }).then(function (data) {\n        console.log(data.text);\n        console.log(\"user successfully deleted\");\n        swal('Success!', 'Deleted!', 'success');\n        window.location = \"/signin\";\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://127.0.0.1:8000/user/users', {\n        'headers': {\n          'Authorization': localStorage.getItem(\"token\")\n        }\n      }).then(function (results) {\n        console.log(results.data);\n        return results;\n      }).then(function (results) {\n        var users = results.data.map(function (user) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          }, React.createElement(Well, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }, user.username, \" \"), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86\n            },\n            __self: this\n          }), user.email, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }), \"Tweets: \", React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }), \"Followers:\", React.createElement(\"button\", {\n            className: \"btn pull-right\",\n            type: \"button\",\n            onClick: function onClick() {\n              return _this2.unfollow(user.username);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          }, \"Unfollow\"), React.createElement(\"button\", {\n            className: \"btn btn-primary pull-right\",\n            type: \"button\",\n            onClick: function onClick() {\n              return _this2.follow(user.username);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          }, \"Follow\")));\n        });\n\n        _this2.setState({\n          users: users\n        });\n\n        console.log(\"this.state \", _this2.state.users);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"All Users\"), this.state.users);\n    }\n  }]);\n\n  return Admin;\n}(Component);\n\nexport default Admin;","map":{"version":3,"sources":["/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/src/components/Admin/index.js"],"names":["React","Component","axios","swal","Button","Col","ControlLabel","FormGroup","FormControl","Table","Modal","Well","Admin","props","state","users","user","fetch","method","headers","localStorage","getItem","then","res","data","console","log","text","window","location","get","results","map","username","email","unfollow","follow","setState"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert2';\nimport { Button, Col, ControlLabel,FormGroup, FormControl, Table, Modal, Well } from 'react-bootstrap';\n\n\nclass Admin extends Component{\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusers: [],\n\t\t};\n\t}\n\n\tfollow(user) {\n\t\t//console.log('this.state', this.state);\n\t\t\tfetch(\"http://127.0.0.1:8000/user/follow/\"+user, {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': localStorage.getItem('token')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(function(res){\n\t\t\t\treturn res;\n\t\t\t})\n\t\t\t.then(function(data){\n\t\t\t\tconsole.log(data.text);\n\t\t\t\tconsole.log(\"user successfully followed\");\n\t\t\t\tswal('Success!', 'Followed!', 'success');\n\t\t\t});\n\t}\n\n\tunfollow(user) {\n\t\t//console.log('this.state', this.state);\n\t\t\tfetch(\"http://127.0.0.1:8000/user/unfollow/\"+user, {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': localStorage.getItem('token')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(function(res){\n\t\t\t\treturn res;\n\t\t\t})\n\t\t\t.then(function(data){\n\t\t\t\tconsole.log(data.text);\n\t\t\t\tconsole.log(\"user successfully unfollowed\");\n\t\t\t\tswal('Success!', 'Unfollowed!', 'success');\n\t\t\t});\n\t}\n\n\tdelete() {\n\t\t\tfetch(\"http://127.0.0.1:8000/user/delete\", {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': localStorage.getItem('token')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(function(res){\n\t\t\t\treturn res;\n\t\t\t})\n\t\t\t.then(function(data){\n\t\t\t\tconsole.log(data.text);\n\t\t\t\tconsole.log(\"user successfully deleted\");\n\t\t\t\tswal('Success!', 'Deleted!', 'success');\n\t\t\t\twindow.location = \"/signin\";\n\t\t\t});\n\t}\n\n\n\tcomponentDidMount() {\n\t\taxios.get('http://127.0.0.1:8000/user/users', { 'headers': { 'Authorization': localStorage.getItem(\"token\")}})\n\t\t.then(results => {\n\t\t\tconsole.log(results.data);\n\t\t\treturn results;\n\t\t}).then(results => {\n\t\t\tlet users = results.data.map((user) => {\n\t\t\t\treturn(\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Well>\n\t\t\t\t\t\t\t<b>{user.username} </b><br/>\n\t\t\t\t\t\t\t{user.email}<br/>\n\t\t\t\t\t\t\tTweets: <br/>\n\t\t\t\t\t\t\tFollowers:\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='btn pull-right'\n\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\tonClick={() => this.unfollow(user.username)}>\n\t\t\t\t\t\t\tUnfollow\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName='btn btn-primary pull-right'\n\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\tonClick={() => this.follow(user.username)}>\n\t\t\t\t\t\t\tFollow\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Well>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t})\n\t\tthis.setState({users:users});\n\t\tconsole.log(\"this.state \", this.state.users);\n\t})\n}\n\n\trender(){\n\t\treturn (\n\t\t\t<div className = \"container\">\n\t\t\t<h2>All Users</h2>\n\t\t\t{this.state.users}\n\t\t\t</div>\n\t\t\t)\n\t}\n\n}\n\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}