{"ast":null,"code":"import _classCallCheck from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/src/components/SignIn/index.js\";\nimport React, { Component } from 'react';\nimport swal from 'sweetalert2';\n\nvar SignIn =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignIn, _Component);\n\n  function SignIn(props) {\n    var _this;\n\n    _classCallCheck(this, SignIn);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignIn).call(this, props));\n    _this.state = {\n      email: '',\n      password: ''\n    };\n    return _this;\n  }\n\n  _createClass(SignIn, [{\n    key: \"signIn\",\n    value: function signIn() {\n      var data = {\n        \"email\": this.state.email,\n        \"password\": this.state.password\n      };\n      fetch(\"http://127.0.0.1:8000/user/login\", {\n        method: \"POST\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }) // .then(function(res{\n      // \tconsole.log(res.data);\n      // \treturn res;\n      // })\n      .then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        var token = res.token;\n        localStorage.setItem('token', token);\n        return res;\n      }).then(function (data) {\n        //console.log(data);\n        if (data.status === 200) {\n          swal('Welcome!', 'You are logged in', 'success').then(window.location = \"/home\");\n        } else {\n          swal('Oops!', 'Are you sure you entered the right email and password?', 'error').then(window.location = \"/signin\");\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \" Sign in\"), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-control\",\n        type: \"text\",\n        placeholder: \"email\",\n        onChange: function onChange(event) {\n          return _this2.setState({\n            email: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        className: \"form-control\",\n        type: \"password\",\n        placeholder: \"password\",\n        onChange: function onChange(event) {\n          return _this2.setState({\n            password: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        type: \"button\",\n        onClick: function onClick() {\n          return _this2.signIn();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Go\")));\n    }\n  }]);\n\n  return SignIn;\n}(Component);\n\nexport default SignIn;","map":{"version":3,"sources":["/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/src/components/SignIn/index.js"],"names":["React","Component","swal","SignIn","props","state","email","password","data","fetch","method","headers","body","JSON","stringify","then","res","json","token","localStorage","setItem","status","window","location","event","setState","target","value","signIn"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport swal from 'sweetalert2';\n\nclass SignIn extends Component{\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t}\n\t}\n\n\tsignIn() {\n\t\tvar data = {\n\t\t\t\"email\": this.state.email,\n\t\t\t\"password\": this.state.password,\n\t\t}\n\t\tfetch(\"http://127.0.0.1:8000/user/login\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody:  JSON.stringify(data)\n\t\t})\n\t\t// .then(function(res{\n\t\t// \tconsole.log(res.data);\n\t\t// \treturn res;\n\t\t// })\n\t\t.then(res => res.json()).then(res => {\n    let token = res.token;\n\n\t\tlocalStorage.setItem('token', token);\n\t\treturn res;\n\t\t})\n\t\t.then(function(data){\n\t\t\t//console.log(data);\n\t\t\tif (data.status === 200) {\n\t\t\t\tswal('Welcome!', 'You are logged in', 'success')\n\t\t\t\t.then(window.location = \"/home\");\n\t\t\t} else {\n\t\t\t\tswal('Oops!', 'Are you sure you entered the right email and password?', 'error')\n\t\t\t\t.then(window.location = \"/signin\");\n\t\t\t}\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='container'>\n\t\t\t\t<h2> Sign in</h2>\n\t\t\t\t<div className='form-group'>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tplaceholder='email'\n\t\t\t\t\t\tonChange={event => this.setState({email:event.target.value})}\n\t\t\t\t\t\t/><br />\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tplaceholder='password'\n\t\t\t\t\t\tonChange={event => this.setState({password:event.target.value})}\n\t\t\t\t\t\t/><br />\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-primary'\n\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\tonClick={() => this.signIn()}>\n\t\t\t\t\t\tGo\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t)\n\t}\n\n}\n\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}