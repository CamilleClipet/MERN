{"ast":null,"code":"import _classCallCheck from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/src/components/Article/index.js\";\nimport React, { Component } from 'react';\nimport swal from 'sweetalert2';\nimport { Button, Col, ControlLabel, FormGroup, FormControl, Table } from 'react-bootstrap';\n\nvar Article =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Article, _Component);\n\n  function Article(props) {\n    var _this;\n\n    _classCallCheck(this, Article);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Article).call(this, props));\n    _this.state = {\n      content: ''\n    };\n    return _this;\n  }\n\n  _createClass(Article, [{\n    key: \"createArticle\",\n    value: function createArticle() {\n      //console.log('this.state', this.state);\n      var data = {\n        \"content\": this.state.content\n      };\n\n      if (data.content !== '') {\n        fetch(\"http://127.0.0.1:8000/message/create\", {\n          method: \"POST\",\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': localStorage.getItem('token')\n          },\n          body: JSON.stringify(data)\n        }).then(function (response) {\n          return response;\n        }).then(function (data) {\n          console.log(data);\n          console.log(\"Message successfully posted\");\n          swal('Success!', 'Message successfully posted', 'success');\n        });\n      } else {\n        console.log(\"content field empty\");\n        swal('Oops!', 'Seems like the content of your post is empty!', 'error');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \" Post a message \"), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        controlId: \"formControlsTextarea\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(ControlLabel, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Size limited to 140 characters\"), React.createElement(FormControl, {\n        componentClass: \"textarea\",\n        placeholder: \"textarea\",\n        onChange: function onChange(event) {\n          return _this2.setState({\n            content: event.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        type: \"button\",\n        onClick: function onClick() {\n          return _this2.createArticle();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Post\")));\n    }\n  }]);\n\n  return Article;\n}(Component);\n\nexport default Article;","map":{"version":3,"sources":["/Users/camilleclipet/Documents/Epitech/MERN/MERN_Rush/mernapp/client2/src/components/Article/index.js"],"names":["React","Component","swal","Button","Col","ControlLabel","FormGroup","FormControl","Table","Article","props","state","content","data","fetch","method","headers","localStorage","getItem","body","JSON","stringify","then","response","console","log","event","setState","target","value","createArticle"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,SAASC,MAAT,EAAiBC,GAAjB,EAAsBC,YAAtB,EAAmCC,SAAnC,EAA8CC,WAA9C,EAA2DC,KAA3D,QAAwE,iBAAxE;;IAEMC,O;;;;;AACL,mBAAaC,KAAb,EAAoB;AAAA;;AAAA;;AACnB,iFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACZC,MAAAA,OAAO,EAAE;AADG,KAAb;AAFmB;AAKnB;;;;oCAEe;AACf;AACA,UAAIC,IAAI,GAAG;AACV,mBAAW,KAAKF,KAAL,CAAWC;AADZ,OAAX;;AAGA,UAAIC,IAAI,CAACD,OAAL,KAAiB,EAArB,EAA0B;AACzBE,QAAAA,KAAK,CAAC,sCAAD,EAAyC;AAC7CC,UAAAA,MAAM,EAAE,MADqC;AAE7CC,UAAAA,OAAO,EAAE;AACR,sBAAU,kBADF;AAER,4BAAgB,kBAFR;AAGR,6BAAiBC,YAAY,CAACC,OAAb,CAAqB,OAArB;AAHT,WAFoC;AAO7CC,UAAAA,IAAI,EAAGC,IAAI,CAACC,SAAL,CAAeR,IAAf;AAPsC,SAAzC,CAAL,CASCS,IATD,CASM,UAASC,QAAT,EAAkB;AACvB,iBAAOA,QAAP;AACA,SAXD,EAYCD,IAZD,CAYM,UAAST,IAAT,EAAc;AACnBW,UAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAZ;AACAW,UAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACAvB,UAAAA,IAAI,CAAC,UAAD,EAAa,6BAAb,EAA4C,SAA5C,CAAJ;AAEA,SAjBD;AAkBA,OAnBD,MAmBO;AACNsB,QAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAvB,QAAAA,IAAI,CAAC,OAAD,EAAU,+CAAV,EAA2D,OAA3D,CAAJ;AACA;AACD;;;6BAEQ;AAAA;;AACR,aACC;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADD,EAEC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,SAAD;AAAW,QAAA,SAAS,EAAC,sBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CADH,EAEG,oBAAC,WAAD;AACH,QAAA,cAAc,EAAC,UADZ;AAEH,QAAA,WAAW,EAAC,UAFT;AAGH,QAAA,QAAQ,EAAE,kBAAAwB,KAAK;AAAA,iBAAI,MAAI,CAACC,QAAL,CAAc;AAACf,YAAAA,OAAO,EAACc,KAAK,CAACE,MAAN,CAAaC;AAAtB,WAAd,CAAJ;AAAA,SAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFH,CADD,EAQC;AACC,QAAA,SAAS,EAAC,iBADX;AAEC,QAAA,IAAI,EAAC,QAFN;AAGC,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACC,aAAL,EAAN;AAAA,SAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARD,CAFD,CADD;AAoBA;;;;EA3DoB7B,S;;AA+DtB,eAAeQ,OAAf","sourcesContent":["import React, {Component} from 'react';\nimport swal from 'sweetalert2';\nimport { Button, Col, ControlLabel,FormGroup, FormControl, Table } from 'react-bootstrap';\n\nclass Article extends Component{\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcontent: '',\n\t\t}\n\t}\n\n\tcreateArticle() {\n\t\t//console.log('this.state', this.state);\n\t\tvar data = {\n\t\t\t\"content\": this.state.content,\n\t\t}\n\t\tif (data.content !== '' ) {\n\t\t\tfetch(\"http://127.0.0.1:8000/message/create\", {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t'Authorization': localStorage.getItem('token')\n\t\t\t\t},\n\t\t\t\tbody:  JSON.stringify(data)\n\t\t\t})\n\t\t\t.then(function(response){\n\t\t\t\treturn response;\n\t\t\t})\n\t\t\t.then(function(data){\n\t\t\t\tconsole.log(data);\n\t\t\t\tconsole.log(\"Message successfully posted\");\n\t\t\t\tswal('Success!', 'Message successfully posted', 'success');\n\n\t\t\t});\n\t\t} else {\n\t\t\tconsole.log(\"content field empty\");\n\t\t\tswal('Oops!', 'Seems like the content of your post is empty!', 'error');\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className='container'>\n\t\t\t\t<h2> Post a message </h2>\n\t\t\t\t<div className='form-group'>\n\t\t\t\t\t<FormGroup controlId=\"formControlsTextarea\">\n      \t\t<ControlLabel>Size limited to 140 characters</ControlLabel>\n      \t\t<FormControl\n\t\t\t\t\tcomponentClass=\"textarea\"\n\t\t\t\t\tplaceholder=\"textarea\"\n\t\t\t\t\tonChange={event => this.setState({content:event.target.value})}/>\n    \t\t\t</FormGroup>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-primary'\n\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\tonClick={() => this.createArticle()}>\n\t\t\t\t\t\tPost\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t)\n\t}\n\n}\n\nexport default Article;\n"]},"metadata":{},"sourceType":"module"}